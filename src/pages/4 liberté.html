<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Les 4 Libertés du Logiciel Libre — NIRD</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="../styles/4 liberté.css">
    
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="#">NIRD</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../pages/home.html">Accueil</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Les 4 Libertés</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#a-propos">À propos</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
        <div class="container">
            <div class="page-title">
                <h1>Les 4 Libertés du Logiciel Libre</h1>
                <p>Découvre les principes fondamentaux qui font la force de Linux</p>
            </div>

            <div class="d-flex justify-content-center">
                <div class="circle-menu" id="menu">
                    <button class="center-btn" onclick="toggleMenu()">Découvre les 4 libertés !</button>

                    <!-- Boutons -->
                    <div class="item-btn item-top">
                        <button id="btn-top" onclick="toggleButton('top')">Exécuter</button>
                    </div>
                    <div class="item-btn item-right">
                        <button id="btn-right" onclick="toggleButton('right')">Copier</button>
                    </div>
                    <div class="item-btn item-bottom">
                        <button id="btn-bottom" onclick="toggleButton('bottom')">Modifier</button>
                    </div>
                    <div class="item-btn item-left">
                        <button id="btn-left" onclick="toggleButton('left')">Distribuer</button>
                    </div>

                    <!-- Cartes -->
                    <div id="card-top" class="floating-card">
                        <div class="card-content">
                            <strong><i class="bi bi-play-circle"></i> Liberté 1</strong>
                            <p>Utiliser un logiciel sans restriction commerciale, abonnement ou traçage. Respect total de la vie privée.</p>
                        </div>
                    </div>

                    <div id="card-right" class="floating-card">
                        <div class="card-content">
                            <strong><i class="bi bi-files"></i> Liberté 2</strong>
                            <p>Dupliquer et redistribuer les logiciels gratuitement, cela permet d'équiper les familles et les écoles.</p>
                        </div>
                    </div>

                    <div id="card-bottom" class="floating-card">
                        <div class="card-content">
                            <strong><i class="bi bi-patch-check"></i> Liberté 3</strong>
                            <p>Adapter les logiciels aux besoins (PrimTux customisé par cycle, Linux NIRD par établissement) et ne pas dépendre des fournisseurs propriétaires.</p>
                        </div>
                    </div>

                    <div id="card-left" class="floating-card">
                        <div class="card-content">
                            <strong><i class="bi bi-share-fill"></i> Liberté 4</strong>
                            <p>Partager les versions modifiées. Cela permet la solidarité numérique et les communs collaboratifs.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function toggleMenu() {
            document.getElementById("menu").classList.toggle("show");
        }

        const originalText = {
            top: "Exécuter",
            right: "Copier",
            bottom: "Modifier",
            left: "Distribuer"
        };

        let isOpen = {top:false, right:false, bottom:false, left:false};

        function toggleButton(dir) {
            const btn = document.getElementById("btn-" + dir);
            const card = document.getElementById("card-" + dir);

            if (isOpen[dir]) {
                btn.innerText = originalText[dir];
                card.classList.remove("show");
                isOpen[dir] = false;
                return;
            }

            // Fermer les autres cartes
            for (let d of ["top","right","bottom","left"]) {
                if(d!==dir) {
                    document.getElementById("btn-"+d).innerText = originalText[d];
                    document.getElementById("card-"+d).classList.remove("show");
                    isOpen[d] = false;
                }
            }

            btn.innerText = "✓ Ouvert";
            isOpen[dir] = true;

            // Position carte alignée avec le bouton
            const btnRect = btn.getBoundingClientRect();
            const menuRect = document.getElementById("menu").getBoundingClientRect();

            let left = btnRect.left - menuRect.left;
            let top = btnRect.top - menuRect.top;

            switch(dir) {
                case "top":
                    left += btn.offsetWidth/2 - card.offsetWidth/2; // centre horizontal
                    top -= card.offsetHeight + 10; // au-dessus du bouton
                    break;
                case "right":
                    left += btn.offsetWidth + 10; // à droite du bouton
                    top += btn.offsetHeight/2 - card.offsetHeight/2; // centre vertical
                    break;
                case "bottom":
                    left += btn.offsetWidth/2 - card.offsetWidth/2; // centre horizontal
                    top += btn.offsetHeight + 10; // en dessous du bouton
                    break;
                case "left":
                    left -= card.offsetWidth + 10; // à gauche du bouton
                    top += btn.offsetHeight/2 - card.offsetHeight/2; // centre vertical
                    break;
            }

            card.style.left = left + "px";
            card.style.top  = top + "px";
            card.classList.add("show");
        }
    </script>
</body>
</html>